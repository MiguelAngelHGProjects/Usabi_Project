{"type":"operationStart","subtype":"profile","data":{"_id":"kEkU7xGt2b46wjka","timestamp":"2024-01-11T18:11:59.218Z","state":"queued","mode":"standard","creationDate":"2024-01-11T18:11:59.219Z","modificationDate":"2024-01-11T18:11:59.219Z","shortid":"A-Bbi76","$entitySet":"profiles"},"doDiffs":false,"timestamp":1704996719219,"id":"db4oy9wizy6spgk","previousOperationId":null,"operationId":"42cl8ydt59t9kny"}
{"type":"log","level":"info","message":"Render request 52 queued for execution and waiting for available worker","previousOperationId":"42cl8ydt59t9kny","timestamp":1704996719219,"id":"ogzj2czaulb0kq9"}
{"type":"operationStart","subtype":"render","name":"User_project","previousOperationId":"42cl8ydt59t9kny","timestamp":1704996719224,"id":"vtkinx5obv3bpnx","previousEventId":"db4oy9wizy6spgk","operationId":"i4mz3y51nxslflr"}
{"type":"log","timestamp":1704996719224,"level":"info","message":"Starting rendering request 52","meta":{"rootId":"y1vsxt94tarq9le","id":"y1vsxt94tarq9le"},"id":"1dzy5qla4uippic","previousOperationId":"i4mz3y51nxslflr"}
{"type":"log","timestamp":1704996719224,"level":"info","message":"Rendering template { name: User_project, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"y1vsxt94tarq9le","id":"y1vsxt94tarq9le"},"id":"ipn6n280in5w4e5","previousOperationId":"i4mz3y51nxslflr"}
{"type":"log","timestamp":1704996719225,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"y1vsxt94tarq9le","id":"y1vsxt94tarq9le"},"id":"tgjs06k5wu9oaru","previousOperationId":"i4mz3y51nxslflr"}
{"type":"log","timestamp":1704996719227,"level":"debug","message":"Executing script usabi-data (beforeRender)","meta":{"rootId":"y1vsxt94tarq9le","id":"y1vsxt94tarq9le"},"id":"f87x68ei2qkcx74","previousOperationId":"i4mz3y51nxslflr"}
{"type":"operationStart","subtype":"scriptsBeforeRender","name":"scripts beforeRender","timestamp":1704996719230,"id":"2vfvshd1nlx6sl8","previousEventId":"vtkinx5obv3bpnx","operationId":"6av050il9d9zrax","previousOperationId":"i4mz3y51nxslflr"}
{"type":"operationStart","subtype":"script","name":"scripts usabi-data","previousOperationId":"6av050il9d9zrax","timestamp":1704996719230,"id":"m3np0g95t36rpyx","previousEventId":"2vfvshd1nlx6sl8","operationId":"hifm8r6hapux2g3"}
{"type":"operationEnd","operationId":"hifm8r6hapux2g3","timestamp":1704996719244,"id":"0xphlrra2x7i8ox","previousEventId":"vtkinx5obv3bpnx","previousOperationId":"i4mz3y51nxslflr"}
{"type":"log","timestamp":1704996719244,"level":"debug","message":"Executing script orders-script (beforeRender)","meta":{"rootId":"y1vsxt94tarq9le","id":"y1vsxt94tarq9le"},"id":"4ec0o0qdg8axkch","previousOperationId":"i4mz3y51nxslflr"}
{"type":"operationStart","subtype":"script","name":"scripts orders-script","previousOperationId":"6av050il9d9zrax","timestamp":1704996719247,"id":"4svsomb41cuufni","previousEventId":"0xphlrra2x7i8ox","operationId":"kglnrkqqnw2rncf"}
{"type":"operationEnd","operationId":"kglnrkqqnw2rncf","timestamp":1704996720547,"id":"yzf98weiylsnpae","previousEventId":"0xphlrra2x7i8ox","previousOperationId":"i4mz3y51nxslflr"}
{"type":"operationEnd","operationId":"6av050il9d9zrax","timestamp":1704996720547,"id":"q2ccinjx3mtldqo","previousEventId":"yzf98weiylsnpae","previousOperationId":"i4mz3y51nxslflr"}
{"type":"log","timestamp":1704996720547,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"y1vsxt94tarq9le","id":"y1vsxt94tarq9le"},"id":"4lyq4ckms22xc4m","previousOperationId":"6av050il9d9zrax"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1704996720547,"id":"hsx7aiig97hfr2j","previousEventId":"q2ccinjx3mtldqo","operationId":"g3vqdgqy1d8m8jq","previousOperationId":"6av050il9d9zrax"}
{"type":"log","timestamp":1704996720547,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"y1vsxt94tarq9le","id":"y1vsxt94tarq9le"},"id":"zuhicyb6mzyadvk","previousOperationId":"g3vqdgqy1d8m8jq"}
{"type":"log","timestamp":1704996720563,"level":"warn","message":"Error when processing render request 52\n(because) error when evaluating engine handlebars for template /USABI/User_project\n(because) missing helper: \"urlFor\"\n\n(sandbox.js line 13:18)\nError: Missing helper: \"urlFor\"\n    at Object.<anonymous> (/home/miguel/project_workspace/jsreportUsabi/node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js:19:13)\n    at Object.wrapper (/home/miguel/project_workspace/jsreportUsabi/node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js:15:19)\n    at Object.main (eval at compile (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:35:30), <anonymous>:46:129)\n    at main (/home/miguel/project_workspace/jsreportUsabi/node_modules/handlebars/dist/cjs/handlebars/runtime.js:208:32)\n    at ret (/home/miguel/project_workspace/jsreportUsabi/node_modules/handlebars/dist/cjs/handlebars/runtime.js:212:12)\n    at Object.execute (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:80:14)\n    at Object.execute (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-handlebars/lib/worker.js:27:43)\n    at executionFn (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:222:40)\n    at sandbox.js:13:18\n    at async run (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:137:16)\nwrapped by:\nError: Error when evaluating engine handlebars for template /USABI/User_project\n(because) missing helper: \"urlFor\"\n    at module.exports (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/shared/createError.js:10:13)\n    at WorkerReporter.createError (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/shared/reporter.js:49:12)\n    at executeEngine (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:310:33)\n    at async engine.engine (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:115:14)\n    at async invokeRender (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:61:23)\n    at async WorkerReporter._render (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:142:7)\n    at async /home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:224:19\n    at async processAndResponse (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:41:17)","meta":{"rootId":"y1vsxt94tarq9le","id":"y1vsxt94tarq9le"},"id":"nmlah9fkoxockxh","previousOperationId":"g3vqdgqy1d8m8jq"}
{"type":"log","timestamp":1704996720563,"level":"warn","message":"Rendering request 52 finished with error in 1345 ms","meta":{"rootId":"y1vsxt94tarq9le","id":"y1vsxt94tarq9le"},"id":"l7z5tt2mmvg3mxy","previousOperationId":"g3vqdgqy1d8m8jq"}
{"type":"error","timestamp":1704996720566,"entity":{"shortid":"Dc1dRyhvSA","name":"User_project","content":"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <title>Informe</title>\r\n  <script src=\"{{{urlFor 'chart.js'}}}\"></script>\r\n</head>\r\n<body>\r\n  <h1>Información de Proyectos por usuario</h1>\r\n\r\n  {{#if usabiData.user_project_data}}\r\n    <ul>\r\n      {{#each usabiData.user_project_data}}\r\n        <li>\r\n          <h2>{{user_name}}</h2>\r\n          <ul>\r\n            {{#each projects as |project|}}\r\n              <li>{{project}}</li>\r\n            {{/each}}\r\n          </ul>\r\n          <h3>Número de Proyectos: {{projects.length}}</h3>\r\n        </li>\r\n      {{/each}}\r\n    </ul>\r\n\r\n    <canvas id='projectsChart' style=\"margin-bottom:30px\"></canvas>\r\n\r\n    <script>\r\n      document.addEventListener('DOMContentLoaded', function () {\r\n        var userData = {{{usabiData.user_project_data}}};\r\n\r\n        var userNames = [];\r\n        var totalProjects = [];\r\n\r\n        // Recopilar datos de todos los usuarios\r\n        userData.forEach(function (user) {\r\n          userNames.push(user.user_name);\r\n          totalProjects.push(user.projects.length);\r\n        });\r\n\r\n        var ctx = document.getElementById('projectsChart').getContext('2d');\r\n        new Chart(ctx, {\r\n          type: 'bar',\r\n          data: {\r\n            labels: userNames,\r\n            datasets: [{\r\n              label: \"Total de Proyectos\",\r\n              backgroundColor: \"rgba(27,161,226,0.2)\",\r\n              borderColor: \"rgba(27,161,226,1)\",\r\n              borderWidth: 1,\r\n              hoverBackgroundColor: \"rgba(27,161,226,0.4)\",\r\n              hoverBorderColor: \"rgba(27,161,226,1)\",\r\n              data: totalProjects\r\n            }]\r\n          },\r\n          options: {\r\n            animation: {\r\n              duration: 0\r\n            },\r\n            scales: {\r\n              y: {\r\n                beginAtZero: true\r\n              }\r\n            }\r\n          }\r\n        });\r\n      });\r\n    </script>\r\n  {{else}}\r\n    <p>No hay datos disponibles</p>\r\n  {{/if}}\r\n</body>\r\n</html>\r\n"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"g3vqdgqy1d8m8jq","id":"1ebb47wyc0u78r6","stack":"Error: Missing helper: \"urlFor\"\n    at Object.<anonymous> (/home/miguel/project_workspace/jsreportUsabi/node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js:19:13)\n    at Object.wrapper (/home/miguel/project_workspace/jsreportUsabi/node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js:15:19)\n    at Object.main (eval at compile (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:35:30), <anonymous>:46:129)\n    at main (/home/miguel/project_workspace/jsreportUsabi/node_modules/handlebars/dist/cjs/handlebars/runtime.js:208:32)\n    at ret (/home/miguel/project_workspace/jsreportUsabi/node_modules/handlebars/dist/cjs/handlebars/runtime.js:212:12)\n    at Object.execute (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:80:14)\n    at Object.execute (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-handlebars/lib/worker.js:27:43)\n    at executionFn (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:222:40)\n    at sandbox.js:13:18\n    at async run (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:137:16)\nwrapped by:\nError: Error when evaluating engine handlebars for template /USABI/User_project\n(because) missing helper: \"urlFor\"\n    at module.exports (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/shared/createError.js:10:13)\n    at WorkerReporter.createError (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/shared/reporter.js:49:12)\n    at executeEngine (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:310:33)\n    at async engine.engine (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:115:14)\n    at async invokeRender (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:61:23)\n    at async WorkerReporter._render (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:142:7)\n    at async /home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:224:19\n    at async processAndResponse (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:41:17)","message":"Error when evaluating engine handlebars for template /USABI/User_project\n(because) missing helper: \"urlFor\"\n\n(sandbox.js line 13:18)"}
