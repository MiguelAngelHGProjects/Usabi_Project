{"type":"operationStart","subtype":"profile","data":{"_id":"KdMKCAy6QHIG0PvL","timestamp":"2024-01-09T19:57:20.968Z","state":"queued","mode":"standard","creationDate":"2024-01-09T19:57:20.970Z","modificationDate":"2024-01-09T19:57:20.970Z","shortid":"pnkno-x","$entitySet":"profiles"},"doDiffs":false,"timestamp":1704830240969,"id":"heduzylio1y2d52","previousOperationId":null,"operationId":"ub0x6606b9dfp4m"}
{"type":"log","level":"info","message":"Render request 1 queued for execution and waiting for available worker","previousOperationId":"ub0x6606b9dfp4m","timestamp":1704830240970,"id":"lur39lfh6qcaom8"}
{"type":"operationStart","subtype":"render","name":"User_project","previousOperationId":"ub0x6606b9dfp4m","timestamp":1704830240981,"id":"jnlapp8ycveosfg","previousEventId":"heduzylio1y2d52","operationId":"vruvucoptp26s8s"}
{"type":"log","timestamp":1704830240982,"level":"info","message":"Starting rendering request 1","meta":{"rootId":"sy2moyano9n44i4","id":"sy2moyano9n44i4"},"id":"gy5dv6esr19orw2","previousOperationId":"vruvucoptp26s8s"}
{"type":"log","timestamp":1704830240982,"level":"info","message":"Rendering template { name: User_project, recipe: chrome-pdf, engine: jsrender, preview: true }","meta":{"rootId":"sy2moyano9n44i4","id":"sy2moyano9n44i4"},"id":"i24cgjjt2b3fzcn","previousOperationId":"vruvucoptp26s8s"}
{"type":"log","timestamp":1704830240983,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"sy2moyano9n44i4","id":"sy2moyano9n44i4"},"id":"q2rzx74g80kvtc2","previousOperationId":"vruvucoptp26s8s"}
{"type":"log","timestamp":1704830240985,"level":"debug","message":"Executing script usabi-data (beforeRender)","meta":{"rootId":"sy2moyano9n44i4","id":"sy2moyano9n44i4"},"id":"hk3hb1ne4rbng69","previousOperationId":"vruvucoptp26s8s"}
{"type":"operationStart","subtype":"scriptsBeforeRender","name":"scripts beforeRender","timestamp":1704830241117,"id":"6ymxwy4u8spgc8j","previousEventId":"jnlapp8ycveosfg","operationId":"i65g0huvl1jy1f9","previousOperationId":"vruvucoptp26s8s"}
{"type":"operationStart","subtype":"script","name":"scripts usabi-data","previousOperationId":"i65g0huvl1jy1f9","timestamp":1704830241117,"id":"7lj9zlu7vjslvw1","previousEventId":"6ymxwy4u8spgc8j","operationId":"vx28whcb9i3z7hc"}
{"type":"log","timestamp":1704830241120,"level":"warn","message":"Error when processing render request 1\n(because) error when evaluating custom script /USABI/usabi-data\n$ is not defined\n\n(sandbox.js line 4:3)\n\n  2 |   var usabiDataEndpoint = 'http://127.0.0.1:4000/usabi_data';\n  3 |\n> 4 |   $.ajax({\n    |   ^\n  5 |     url: usabiDataEndpoint,\n  6 |     dataType: 'json',\n  7 |     success: function (usabiData) {\n\n(sandbox.js line 29:18)\nReferenceError: $ is not defined\n    at Object.beforeRender (sandbox.js:4:3)\n    at executionFn (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-scripts/lib/executeScript.js:67:35)\n    at sandbox.js:29:18\n    at async run (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:137:16)\n    at async WorkerReporter.runInSandbox [as _runInSandbox] (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/runInSandbox.js:195:14)\n    at async executeScript (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-scripts/lib/executeScript.js:122:12)\n    at async Scripts._runScript (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-scripts/lib/worker.js:140:30)\n    at async Scripts.handleBeforeRender (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-scripts/lib/worker.js:64:7)\n    at async ListenerCollection.fire (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/shared/listenerCollection.js:157:21)\n    at async beforeRender (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:24:5)","meta":{"rootId":"sy2moyano9n44i4","id":"sy2moyano9n44i4"},"id":"08oqsda4a06x7lw","previousOperationId":"vx28whcb9i3z7hc"}
{"type":"log","timestamp":1704830241121,"level":"warn","message":"Rendering request 1 finished with error in 153 ms","meta":{"rootId":"sy2moyano9n44i4","id":"sy2moyano9n44i4"},"id":"5mmct2anxly1u4s","previousOperationId":"vx28whcb9i3z7hc"}
{"type":"error","timestamp":1704830241123,"statusCode":400,"weak":true,"lineNumber":4,"decoratedSuffix":"\n\n(sandbox.js line 4:3)\n\n  2 |   var usabiDataEndpoint = 'http://127.0.0.1:4000/usabi_data';\n  3 |\n> 4 |   $.ajax({\n    |   ^\n  5 |     url: usabiDataEndpoint,\n  6 |     dataType: 'json',\n  7 |     success: function (usabiData) {\n\n(sandbox.js line 29:18)","entity":{"shortid":"NOEOwvil2L","name":"usabi-data","content":"function beforeRender(done) {\n  var usabiDataEndpoint = 'http://127.0.0.1:4000/usabi_data';\n\n  $.ajax({\n    url: usabiDataEndpoint,\n    dataType: 'json',\n    success: function (usabiData) {\n      request.data = { usabiData: usabiData };\n      done();\n    },\n    error: function (xhr, status, error) {\n      console.error('Error en la solicitud:', status, error);\n      done();\n    }\n  });\n}\n"},"property":"content","logged":true,"previousOperationId":"vx28whcb9i3z7hc","id":"p8k1p7w5m7ivobn","stack":"ReferenceError: $ is not defined\n    at Object.beforeRender (sandbox.js:4:3)\n    at executionFn (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-scripts/lib/executeScript.js:67:35)\n    at sandbox.js:29:18\n    at async run (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:137:16)\n    at async WorkerReporter.runInSandbox [as _runInSandbox] (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/runInSandbox.js:195:14)\n    at async executeScript (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-scripts/lib/executeScript.js:122:12)\n    at async Scripts._runScript (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-scripts/lib/worker.js:140:30)\n    at async Scripts.handleBeforeRender (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-scripts/lib/worker.js:64:7)\n    at async ListenerCollection.fire (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/shared/listenerCollection.js:157:21)\n    at async beforeRender (/home/miguel/project_workspace/jsreportUsabi/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:24:5)","message":"Error when evaluating custom script /USABI/usabi-data\n$ is not defined\n\n(sandbox.js line 4:3)\n\n  2 |   var usabiDataEndpoint = 'http://127.0.0.1:4000/usabi_data';\n  3 |\n> 4 |   $.ajax({\n    |   ^\n  5 |     url: usabiDataEndpoint,\n  6 |     dataType: 'json',\n  7 |     success: function (usabiData) {\n\n(sandbox.js line 29:18)"}
